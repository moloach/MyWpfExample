<Window x:Class="WpfApp1.InnerShadowWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        mc:Ignorable="d"
        Title="InnerShadowWindow" Height="780" Width="1280">
    <Window.Resources>
        <Storyboard x:Key="AlertBorder" RepeatBehavior="Forever" AutoReverse="True">
            <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="Margin" 
                                  Storyboard.TargetName="ShadowElement">
                <EasingThicknessKeyFrame KeyTime="0:0:0" Value="0"/>
                <EasingThicknessKeyFrame KeyTime="0:0:1" Value="-50"/>
            </ThicknessAnimationUsingKeyFrames>
            <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="BorderThickness" 
                      Storyboard.TargetName="ShadowElement">
                <LinearThicknessKeyFrame  KeyTime="0:0:0" Value="0"/>
                <LinearThicknessKeyFrame  KeyTime="0:0:1" Value="50"/>
            </ThicknessAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.BlurRadius)" 
                                  Storyboard.TargetName="ShadowElement">
                <LinearDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                <LinearDoubleKeyFrame KeyTime="0:0:1" Value="100"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </Window.Resources>
    <Window.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
            <BeginStoryboard Storyboard="{StaticResource AlertBorder}"/>
        </EventTrigger>
    </Window.Triggers>
    <Grid>
        <Grid Width="1280" Height="720" Background="Transparent" >
            <!--clip可以设置透明，但需要固定大小-->
            <Grid.Clip>
                <RectangleGeometry Rect="0,0,1280,720" />
            </Grid.Clip>
            <Rectangle x:Name="Rectangle" Fill="Transparent"  RadiusX="0" RadiusY="0" />
            <Border x:Name="ShadowElement"  BorderBrush="Black" CornerRadius="0">
                <Border.Effect>
                    <DropShadowEffect x:Name="Shadow"  BlurRadius="0"  ShadowDepth="0" Color="Red" />
                </Border.Effect>
            </Border>
            
            <!--以下代码可以自适应，需要删除clip，但是无法透明-->
            <!--
            <Grid.OpacityMask>
                <VisualBrush Stretch="None" Visual="{Binding ElementName=Rectangle}" />
            </Grid.OpacityMask>
            -->
        </Grid>
        <!--<Slider Margin="20" Maximum="50" Minimum="0" ValueChanged="Slider_ValueChanged" />-->
    </Grid>
</Window>
